{% extends 'base.html' %}
{% from 'macro.html' import render_center with context %}

{% block extra_styles %}
    {% if code_styles %}
        <style type="text/css">
            {{ code_styles|safe }}
        </style>
    {% endif %}
{% endblock %}

{% block body %}
    <div class="container">
        {% if code %}
            {{ code|safe }}
        {% elif source_variants %}
            {% for source_variant in source_variants %}
                {% if loop.first %}
                    {{ render_center('Use any method listed below to specify a file for review:', 'variants_info') }}
                {% endif %}
                {{ render_center(source_variant.render()|safe, 'variant_block') }}
            {% endfor %}
        {% endif %}

        {# Form #}
        <div class="comment_add_form">
            <form action="{{ url_for('add_comment') }}" name="comment_add_form">
                <input type="text" name="author" placeholder="name" />
                <input type="hidden" name="line" />
                <input type="hidden" name="filename" value="{{ filename }}" />
                <textarea name="message" placeholder="message"></textarea>
                <button role="close" class="second_button">Cancel</button>
                <button role="submit" class="primary_button pull_right">Post</button>
            </form>
        </div>
    </div>

{% endblock %}
